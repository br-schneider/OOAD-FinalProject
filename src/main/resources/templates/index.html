<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
          integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
          crossorigin="anonymous"
    >

    <link rel="stylesheet" th:href="@{/stylesheets/main.css}" />


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script type="text/javascript">
        jQuery(document).ready(function () {
            $("#typeOptions a").click(function () {
                $("#typeFilter").text(this.innerHTML);
            });

            $("#makeOptions a").click(function () {
                $("#makeFilter").text(this.innerHTML);
            });

            $("#yearOptions a").click(function () {
                $("#yearFilter").text(this.innerHTML);
            });
        });
    </script>


    <title>Home</title>

</head>

<body id="searchBody">

<div class="container" id="nav">
    <nav class="navbar navbar-expand-md navbar-dark bg-dark rounded">
        <div class="navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2">

            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/">Home</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="/car_inventory">Inventory</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="/observer_pattern">Observer Pattern</a>
                </li>
            </ul>

        </div>

        <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">

            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/login">Login</a>
                </li>
            </ul>
        </div>
    </nav>
</div>

<div class="container justify-content-center" >
    <div class="jumbotron p-4 p-md-5 text-dark rounded bg-white">
        <a href="/" class="search" >
            <img th:src="@{/img/car.svg}" width="72" height="72"/>
        </a>

        <h2>Welcome to Search Engine!</h2>

<!--        <form th:action="@{search}">-->


        <form method="get" action="/search" >

        <div class="btn-group">

            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle status" data-toggle="dropdown" id="typeFilter" name="typeFilter">Type</button>
                <div class="dropdown-menu" id="typeOptions">
                    <a class="dropdown-item" href="#">SUV</a>
                    <a class="dropdown-item" href="#">Sedan</a>
                    <a class="dropdown-item" href="#">Coupe</a>
                    <a class="dropdown-item" href="#">Truck</a>
                </div>
            </div>


            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle status" data-toggle="dropdown" id="makeFilter" name="makeFilter">Make</button>
                <div class="dropdown-menu" id="makeOptions">
                    <a class="dropdown-item" href="#">Toyota</a>
                    <a class="dropdown-item" href="#">BMW</a>
                    <a class="dropdown-item" href="#">Honda</a>
                </div>
            </div>


            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle status" data-toggle="dropdown" id="yearFilter" name="yearFilter">Year</button>
                <div class="dropdown-menu" id="yearOptions">
                    <a class="dropdown-item" href="#">2020</a>
                    <a class="dropdown-item" href="#">2019</a>
                    <a class="dropdown-item" href="#">2018</a>
                    <a class="dropdown-item" href="#">2017</a>
                    <a class="dropdown-item" href="#">2016</a>
                    <a class="dropdown-item" href="#">2015</a>
                    <a class="dropdown-item" href="#">2014</a>
                    <a class="dropdown-item" href="#">2013</a>
                    <a class="dropdown-item" href="#">2012</a>
                </div>
            </div>

            <input type="text" name="FULL_SEARCH"  id="toSearch" hidden="hidden"/>




            <button type="submit" class="btn btn-outline-dark rounded" name="submit" onclick="getThings()">Search</button>

            <script>
                function getThings() {
                    let type1 = document.getElementById("typeFilter").innerHTML;
                    let type2 = document.getElementById("makeFilter").innerHTML;
                    let type3 = document.getElementById("yearFilter").innerHTML;
                    document.getElementById("toSearch").value = type1 + "," + type2 + "," + type3;
                }

            </script>
        </div>

        </form>


    </div>

</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
</body>
</html>
